<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>pg_shell</title>
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
</head>
<body>
<div id="output"
  hx-get="/rpc/latest_output?p_user_id=eq.USER_ID"
  hx-trigger="load, every 1s"
  hx-swap="innerHTML">
</div>

<form
  hx-post="/rpc/submit_command"
  hx-trigger="submit from:form"
  hx-target="#output"
  hx-swap="beforeend"
  hx-ext="json-enc"
  hx-encoding="json"
>
  <input type="hidden" name="user_id" value="USER_ID" />
  <input name="command" autocomplete="off" autofocus placeholder="Enter commandâ€¦" />
</form>
</body>
</html>
